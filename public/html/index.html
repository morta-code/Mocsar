<html>
	<head>
		<title>Mocsar Game</title>

		<script type='text/javascript' src="/js/require.js" data-main="/js/main.js"></script>
		<script type='text/javascript' src="/js/jsexpansion_client.js"></script>
		
		<link rel="stylesheet" href="/css/style.css" type="text/css"> 
		<link rel="stylesheet" type="text/css" href="/css/styleCardDondorf_less.css" />

		<script type="text/html" id="gamer">
			<span data-bind="attr: {id: player.id, class: player.htmlClass}">
				<div data-bind="visible: player.active, attr: {id: player.htmlClass}"></div>
				<div data-bind="text: player.name"></div>
				<div data-bind="text: player.id"></div>
				<div data-bind="text: player.ai"></div>
				<div data-bind="text: player.card"></div>
				<div data-bind="text: player.active"></div>
			</span>
		</script>

		<script type="text/html" id="templateCard">
			<span data-bind="cardBindings: card, cardIndex: $index, attr: { id: 'me-' + $index() } "></span>
		</script>

		<script type="text/html" id="templateDepositedCards">
			<span data-bind="cardsDepositedBindings: dcard, cardIndex: $index" class="depositedCardsContainer"></span>
		</script>

	</head>
	<body>
		<div class="wrapper">
            <div class="tartalom">
                <div class="data" id="initArea" data-bind="visible: isInit">
                    <div class="userList">
                    	<label for="userList"><p>Eddig csatlakozott Userek:</p></label>
                    	<div id="userList" data-bind="html: userList()"></div>
                    </div>
					<div class="content">
						<div id="login" data-bind="visible: isLogin" style="display:none;">
							<label for="nev"> Felhasználónév: </label>
							<input type="text" name="Nev" id="nev" data-bind="value: userName, valueUpdate: 'afterkeydown'" />
							<div data-bind="text: userName"></div>
							<span id="errorLoginArea" data-bind="text: nameError, visible: isError"></span><br />
							<button name="ok" id="send" data-bind="click: sendUserName, enabled: isLogin">Send</button>
						</div>
						<div id="settingsArea" data-bind="visible: isSettings" style="display:none;">
							<div id="adminArea" data-bind="visible: isAdmin">
								<label for="aiNumber">MI játékosok száma:</label>
								<input type="number" name="aiNumber" id="aiNumber" min="0" max="11" data-bind="value: aiNumbers, valueUpdate: 'afterkeydown'"><br />
								<span id="errorSettingsArea" style=""></span><br />
								<button id="start" data-bind="enabled: isAdmin, click: sendAi">StartGame</button>
							</div>
						</div>
					</div>
				</div>
				<div class="data" id="gameArea" style="display:none;" data-bind="visible: isGameStarted">
					<div id="gamerTemplateArea">
						<div data-bind="template: { name: 'gamer', foreach: getPlayers(), as: 'player' }" id="players"></div>
						<div data-bind="template: { name: 'templateDepositedCards', foreach: getDepositedCards(), as: 'dcard'}" id="lapok"></div>
					</div>
					<div id="gameTemplateArea">
						<div data-bind="template: { name: 'templateCard', foreach: getCards(), as: 'card'}" class="cardArea"></div>
						<button data-bind="click: sendCards, enable: isYourNext()" class="buttonGroup"> SEND </button>
						<button data-bind="click: sendPassz, enable: isYourNext()" class="buttonGroup"> PASSZ </button>
						<button data-bind="click: sendTribute, enable: isTribute()" class="buttonGroup"> TRIBUTE BACK </button>
						<button data-bind="click: logPlayer" class="buttonGroup"> LOG_PLAYER </button>
						<button data-bind="click: logCard" class="buttonGroup"> LOG_CARD </button>
						<button data-bind="click: logDepositedCards" class="buttonGroup"> LOG_DEP </button>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>